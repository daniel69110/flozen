{% extends 'base.html.twig' %}


{% block body %}
	<div class="flex p-3 my-20">
		<div class="w-1/2 h-1/2 p-3">
			<div id='calendar' class=""></div>
		</div>
		<div class="container w-1/2 h-1/2 p-3">
			<h1 class="text-2xl font-bold mb-4">Réserver un Rendez-vous</h1>

			{{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}

			<div>
				{{ form_label(form.startDateTime) }}
				{{ form_widget(form.startDateTime, {'attr': {'class': 'block w-full border rounded p-2'}}) }}
				{{ form_errors(form.startDateTime) }}
			</div>

			<div>
				{{ form_label(form.endDateTime) }}
				{{ form_widget(form.endDateTime, {'attr': {'class': 'block w-full border rounded p-2'}}) }}
				{{ form_errors(form.endDateTime) }}
			</div>

			<div>
				{{ form_label(form.name) }}
				{{ form_widget(form.name, {'attr': {'class': 'block w-full border rounded p-2'}}) }}
				{{ form_errors(form.name) }}
			</div>
			{% if app.flashes('error') %}
				<div class="alert alert-danger">
					{% for message in app.flashes('error') %}
						<p>{{ message }}</p>
					{% endfor %}
				</div>
			{% endif %}

			<button type="submit" class="bg-blue-500 text-white rounded px-4 py-2 hover:bg-blue-600">
				Réserver
			</button>

			{{ form_end(form) }}
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
	<script>

		document.addEventListener('DOMContentLoaded', function () {
var calendarEl = document.getElementById('calendar');
var calendar = new FullCalendar.Calendar(calendarEl, {
initialView: 'dayGridMonth',
headerToolbar: {
left: 'dayGridMonth,timeGridWeek,timeGridDay', // Les vues disponibles à gauche
center: 'title', // Titre au centre
right: 'prev,today,next'
},
views: {
dayGridMonth: { // Configuration spécifique à la vue mois
buttonText: 'Mois'
},
timeGridWeek: { // Configuration spécifique à la vue semaine
buttonText: 'Semaine'
},
timeGridDay: { // Configuration spécifique à la vue jour
buttonText: 'Jour'
}
}
});
calendar.render();
});
	</script>
{% endblock %}
