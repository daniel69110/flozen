{% extends 'base.html.twig' %}

{% block title %}Hello CartController!
{% endblock %}

{% block body %}


	{% if cart.items is empty %}
		<div class="flex justify-center items-center p-3">
			<p class="text-2xl">Votre panier est vide.</p>
		</div>
	{% else %}
		{% for cartItem in cart.items %}
			<ul class="p-3">
				<li>
					<h3>Produit :
						{{ cartItem.product.name }}
						x
						{{ cartItem.quantity }}</h3>
					<span>Prix unitaire :
						{{ cartItem.product.price|format_currency('EUR', locale='fr') }}</span>
					<span>Total :
						{{ (cartItem.product.price * cartItem.quantity)|format_currency('EUR', locale='fr') }}</span>

					<a href="{{ path('remove', {id: cartItem.product.id}) }}" class="bg-red-500 rounded-lg w-auto p-1">Retirer</a>


				</li>
			</ul>
			<hr>
		{% endfor %}
		<div class="p-3">
			<h2>Total :
				{{ cart.getTotalPrice|format_currency('EUR', locale='fr') }}</h2>
			<a href="{{ path('checkout')}}" class="bg-green-500 rounded-lg w-auto p-1">Paiement</a>
		</div>
	{% endif %}


{% endblock %}
